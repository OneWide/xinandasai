{"version":3,"file":"table-editor.2dffc2d3.js","sources":["../../src/views/table/table-editor.vue"],"sourcesContent":["<script lang=\"ts\">\nimport { defineComponent } from 'vue'\nexport default defineComponent({\n  name: 'table-editor',\n})\n</script>\n<template>\r\n\t<div class=\"container\">\r\n\t\t<TableCustom :columns=\"columns\" :tableData=\"tableData\" :hasToolbar=\"false\" :hasPagination=\"false\">\r\n\t\t\t<template #name=\"{ rows }\">\r\n\t\t\t\t<el-input v-if=\"rows.editing\" v-model=\"rows.name\"></el-input>\r\n\t\t\t\t<span v-else>{{ rows.name }}</span>\r\n\t\t\t</template>\r\n\t\t\t<template #password=\"{ rows }\">\r\n\t\t\t\t<el-input v-if=\"rows.editing\" v-model=\"rows.password\"></el-input>\r\n\t\t\t\t<span v-else>{{ rows.password }}</span>\r\n\t\t\t</template>\r\n\t\t\t<template #email=\"{ rows }\">\r\n\t\t\t\t<el-input v-if=\"rows.editing\" v-model=\"rows.email\"></el-input>\r\n\t\t\t\t<span v-else>{{ rows.email }}</span>\r\n\t\t\t</template>\r\n\t\t\t<template #role=\"{ rows }\">\r\n\t\t\t\t<el-select v-if=\"rows.editing\" v-model=\"rows.role\">\r\n\t\t\t\t\t<el-option label=\"管理员\" value=\"管理员\"></el-option>\r\n\t\t\t\t\t<el-option label=\"普通用户\" value=\"普通用户\"></el-option>\r\n\t\t\t\t</el-select>\r\n\t\t\t\t<span v-else>{{ rows.role }}</span>\r\n\t\t\t</template>\r\n\t\t\t<template #operator=\"{ rows, index }\">\r\n\t\t\t\t<template v-if=\"!rows.editing\">\r\n\t\t\t\t\t<el-button type=\"primary\" size=\"small\" :icon=\"Edit\" @click=\"handleEdit(rows)\">\r\n\t\t\t\t\t\t编辑\r\n\t\t\t\t\t</el-button>\r\n\t\t\t\t\t<el-button type=\"danger\" size=\"small\" :icon=\"Delete\" @click=\"\">\r\n\t\t\t\t\t\t删除\r\n\t\t\t\t\t</el-button>\r\n\t\t\t\t</template>\r\n\t\t\t\t<template v-else>\r\n\t\t\t\t\t<el-button type=\"success\" size=\"small\" :icon=\"Select\" @click=\"rows.editing = false\">\r\n\t\t\t\t\t\t保存\r\n\t\t\t\t\t</el-button>\r\n\t\t\t\t\t<el-button type=\"default\" size=\"small\" :icon=\"CloseBold\" @click=\"handleCancel(rows, index)\">\r\n\t\t\t\t\t\t取消\r\n\t\t\t\t\t</el-button>\r\n\t\t\t\t</template>\r\n\t\t\t</template>\r\n\t\t</TableCustom>\r\n\t</div>\r\n</template>\r\n\r\n<script setup lang=\"ts\" name=\"table-editor\">\r\nimport { ref } from 'vue';\r\nimport { Delete, Edit, CloseBold, Select } from '@element-plus/icons-vue';\r\nimport TableCustom from '@/components/table-custom.vue';\r\nimport { fetchUserData } from '@/api/index';\r\n\r\nlet columns = ref([\r\n\t{ type: 'index', label: '序号', width: 55, align: 'center' },\r\n\t{ prop: 'name', label: '用户名' },\r\n\t{ prop: 'password', label: '密码' },\r\n\t{ prop: 'email', label: '邮箱' },\r\n\t{ prop: 'role', label: '角色' },\r\n\t{ prop: 'operator', label: '操作', width: 180 },\r\n])\r\nconst tableData = ref([]);\r\nconst getData = async () => {\r\n\tconst res = await fetchUserData();\r\n\ttableData.value = res.data.list;\r\n};\r\ngetData();\r\n\r\nconst rowData = ref({})\r\n\r\nconst handleEdit = (row) => {\r\n\trowData.value = { ...row };\r\n\trow.editing = true;\r\n};\r\n\r\nconst handleCancel = (row, index) => {\r\n\trow.editing = false;\r\n\ttableData.value[index] = { ...rowData.value };\r\n};\r\n</script>\r\n\r\n<style scoped></style>\r\n"],"names":["__default__","defineComponent","columns","ref","tableData","res","fetchUserData","rowData","handleEdit","row","handleCancel","index"],"mappings":"yiBAEAA,EAAAC,EAAA,CAA+B,KAAA,cAE/B,CAAA,qBAoDA,IAAAC,EAAAC,EAAA,CAAkB,CAAA,KAAA,QAAA,MAAA,eAAA,MAAA,GAAA,MAAA,QAAA,EACwC,CAAA,KAAA,OAAA,MAAA,oBAAA,EAC5B,CAAA,KAAA,WAAA,MAAA,cAAA,EACG,CAAA,KAAA,QAAA,MAAA,cAAA,EACH,CAAA,KAAA,OAAA,MAAA,cAAA,EACD,CAAA,KAAA,WAAA,MAAA,eAAA,MAAA,GAAA,CACgB,CAAA,EAE7C,MAAAC,EAAAD,EAAA,CAAA,CAAA,GACA,SAAA,CACC,MAAAE,EAAA,MAAAC,IACAF,EAAA,MAAAC,EAAA,KAAA,IAA2B,KAI5B,MAAAE,EAAAJ,EAAA,CAAA,CAAA,EAEAK,EAAAC,GAAA,CACCF,EAAA,MAAA,CAAA,GAAAE,GACAA,EAAA,QAAA,EAAc,EAGfC,EAAA,CAAAD,EAAAE,IAAA,CACCF,EAAA,QAAA,GACAL,EAAA,MAAAO,GAAA,CAAA,GAAAJ,EAAA,MAA4C"}