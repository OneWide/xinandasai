import{_ as j}from"./index.38ba2f1b.js";/* empty css                 *//* empty css                    *//* empty css                  *//* empty css                        *//* empty css                   */import{a as G,b as J,c as O,d as Z,o as ee,p as S,r as te,e as oe,q as ae,s as ne,v as le,t as ue,u as se,w as ce,k as re,x as ie}from"./element-plus.e3e37abd.js";import{d as de,M as pe,r as _e,ag as fe,o as l,c as s,u as a,a as x,H as B,F as r,Q as t,S as o,Y as i,a8 as D,T as v,a9 as me,W as d,X as h}from"./vendor.92143cfc.js";const ye={key:0,class:"table-toolbar"},ge={class:"table-toolbar-left"},be={class:"table-toolbar-right flex-center"},ve={key:1},he={key:2},ke=de({__name:"table-custom",props:{tableData:{type:Array,default:[]},columns:{type:Array,default:[]},rowKey:{type:String,default:"id"},hasToolbar:{type:Boolean,default:!0},hasPagination:{type:Boolean,default:!0},total:{type:Number,default:0},currentPage:{type:Number,default:1},pageSize:{type:Number,default:10},layout:{type:String,default:"total, prev, pager, next"},delFunc:{type:Function,default:()=>{}},viewFunc:{type:Function,default:()=>{}},editFunc:{type:Function,default:()=>{}},delSelection:{type:Function,default:()=>{}},refresh:{type:Function,default:()=>{}},changePage:{type:Function,default:()=>{}}},setup(c){const p=c;let{tableData:T,columns:_,rowKey:z,hasToolbar:P,hasPagination:V,total:N,currentPage:k,pageSize:C,layout:$}=pe(p);_.value.forEach(n=>{n.visible===void 0&&(n.visible=!0)});const f=_e([]),A=n=>{f.value=n},I=n=>{p.changePage(n)},M=n=>{se.confirm("\u786E\u5B9A\u8981\u5220\u9664\u5417\uFF1F","\u63D0\u793A",{type:"warning"}).then(async()=>{p.delFunc(n)}).catch(()=>{})},K=n=>n+1+(k.value-1)*C.value;return(n,F)=>{const m=oe,y=G,w=ae,U=fe("Setting"),q=ce,H=J,L=O,Q=Z,g=re,R=ie,W=ne,X=ee;return l(),s("div",null,[a(P)?(l(),s("div",ye,[x("div",ge,[B(n.$slots,"toolbarBtn",{},void 0,!0)]),x("div",be,[f.value.length>0?(l(),s(r,{key:0},[t(y,{effect:"dark",content:"\u5220\u9664\u9009\u4E2D",placement:"top"},{default:o(()=>[t(m,{class:"columns-setting-icon",onClick:F[0]||(F[0]=e=>c.delSelection(f.value))},{default:o(()=>[t(a(S))]),_:1})]),_:1}),t(w,{direction:"vertical"})],64)):i("",!0),t(y,{effect:"dark",content:"\u5237\u65B0",placement:"top"},{default:o(()=>[t(m,{class:"columns-setting-icon",onClick:c.refresh},{default:o(()=>[t(a(te))]),_:1},8,["onClick"])]),_:1}),t(w,{direction:"vertical"}),t(y,{effect:"dark",content:"\u5217\u8BBE\u7F6E",placement:"top"},{default:o(()=>[t(Q,{"hide-on-click":!1,size:"small",trigger:"click"},{dropdown:o(()=>[t(L,null,{default:o(()=>[(l(!0),s(r,null,D(a(_),e=>(l(),v(H,null,{default:o(()=>[t(q,{modelValue:e.visible,"onUpdate:modelValue":u=>e.visible=u,label:e.label},null,8,["modelValue","onUpdate:modelValue","label"])]),_:2},1024))),256))]),_:1})]),default:o(()=>[t(m,{class:"columns-setting-icon"},{default:o(()=>[t(U)]),_:1})]),_:1})]),_:1})])])):i("",!0),t(W,{class:"mgb20",style:{width:"100%"},border:"",data:a(T),"row-key":a(z),onSelectionChange:A,"table-layout":"auto"},{default:o(()=>[(l(!0),s(r,null,D(a(_),e=>(l(),s(r,{key:e.prop},[e.visible?(l(),v(R,{key:0,prop:e.prop,label:e.label,width:e.width,type:e.type,align:e.align||"center"},me({_:2},[e.type==="index"?{name:"default",fn:o(({row:u,column:Y,$index:b})=>[d(h(K(b)),1)]),key:"0"}:void 0,e.type?void 0:{name:"default",fn:o(({row:u,column:Y,$index:b})=>[B(n.$slots,e.prop,{rows:u,index:b},()=>[e.prop=="operator"?(l(),s(r,{key:0},[t(g,{type:"warning",size:"small",icon:a(le),onClick:E=>c.viewFunc(u)},{default:o(()=>[d(" \u67E5\u770B ")]),_:2},1032,["icon","onClick"]),t(g,{type:"primary",size:"small",icon:a(ue),onClick:E=>c.editFunc(u)},{default:o(()=>[d(" \u7F16\u8F91 ")]),_:2},1032,["icon","onClick"]),t(g,{type:"danger",size:"small",icon:a(S),onClick:E=>M(u)},{default:o(()=>[d(" \u5220\u9664 ")]),_:2},1032,["icon","onClick"])],64)):e.formatter?(l(),s("span",ve,h(e.formatter(u[e.prop])),1)):(l(),s("span",he,h(u[e.prop]),1))],!0)]),key:"1"}]),1032,["prop","label","width","type","align"])):i("",!0)],64))),128))]),_:3},8,["data","row-key"]),a(V)?(l(),v(X,{key:1,"current-page":a(k),"page-size":a(C),background:!0,layout:a($),total:a(N),onCurrentChange:I},null,8,["current-page","page-size","layout","total"])):i("",!0)])}}});const Te=j(ke,[["__scopeId","data-v-9eab22ff"]]);export{Te as T};
//# sourceMappingURL=table-custom.ba83a998.js.map
