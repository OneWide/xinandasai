import{d as g,r as f,$ as v,o as a,c as n,g as u,z as t,B as i,y as p,x as m,J as b,au as B,aa as c,aq as U,cG as F,cH as x}from"./index.01ea98cf.js";import{E as z}from"./el-input.354679cc.js";import"./el-checkbox.99cb207f.js";import{E as A,a as T}from"./el-select.555d4ea7.js";import{T as $}from"./table-custom.490dc207.js";import{f as N}from"./index.b33b1184.js";import"./index.a8710ac8.js";import"./_flatRest.facd7534.js";import"./_initCloneObject.20b4b283.js";import"./isEqual.1bd4333b.js";import"./scroll.07f4ce89.js";import"./debounce.cb4df02e.js";import"./el-table-column.5f7a71c4.js";import"./isPlainObject.a804da68.js";import"./raf.84270819.js";import"./el-divider.8baa1cfb.js";import"./index.a015fcd7.js";const S={class:"container"},q={key:1},G={key:1},H={key:1},I={key:1},J=g({name:"table-editor"}),ue=g({...J,setup(O){let D=f([{type:"index",label:"\u5E8F\u53F7",width:55,align:"center"},{prop:"name",label:"\u7528\u6237\u540D"},{prop:"password",label:"\u5BC6\u7801"},{prop:"email",label:"\u90AE\u7BB1"},{prop:"role",label:"\u89D2\u8272"},{prop:"operator",label:"\u64CD\u4F5C",width:180}]);const r=f([]);(async()=>{const o=await N();r.value=o.data.list})();const k=f({}),C=o=>{k.value={...o},o.editing=!0},h=(o,s)=>{o.editing=!1,r.value[s]={...k.value}};return(o,s)=>{const _=z,y=A,E=T,d=v;return a(),n("div",S,[u($,{columns:i(D),tableData:r.value,hasToolbar:!1,hasPagination:!1},{name:t(({rows:e})=>[e.editing?(a(),p(_,{key:0,modelValue:e.name,"onUpdate:modelValue":l=>e.name=l},null,8,["modelValue","onUpdate:modelValue"])):(a(),n("span",q,m(e.name),1))]),password:t(({rows:e})=>[e.editing?(a(),p(_,{key:0,modelValue:e.password,"onUpdate:modelValue":l=>e.password=l},null,8,["modelValue","onUpdate:modelValue"])):(a(),n("span",G,m(e.password),1))]),email:t(({rows:e})=>[e.editing?(a(),p(_,{key:0,modelValue:e.email,"onUpdate:modelValue":l=>e.email=l},null,8,["modelValue","onUpdate:modelValue"])):(a(),n("span",H,m(e.email),1))]),role:t(({rows:e})=>[e.editing?(a(),p(E,{key:0,modelValue:e.role,"onUpdate:modelValue":l=>e.role=l},{default:t(()=>[u(y,{label:"\u7BA1\u7406\u5458",value:"\u7BA1\u7406\u5458"}),u(y,{label:"\u666E\u901A\u7528\u6237",value:"\u666E\u901A\u7528\u6237"})]),_:2},1032,["modelValue","onUpdate:modelValue"])):(a(),n("span",I,m(e.role),1))]),operator:t(({rows:e,index:l})=>[e.editing?(a(),n(b,{key:1},[u(d,{type:"success",size:"small",icon:i(F),onClick:V=>e.editing=!1},{default:t(()=>[c(" \u4FDD\u5B58 ")]),_:2},1032,["icon","onClick"]),u(d,{type:"default",size:"small",icon:i(x),onClick:V=>h(e,l)},{default:t(()=>[c(" \u53D6\u6D88 ")]),_:2},1032,["icon","onClick"])],64)):(a(),n(b,{key:0},[u(d,{type:"primary",size:"small",icon:i(B),onClick:V=>C(e)},{default:t(()=>[c(" \u7F16\u8F91 ")]),_:2},1032,["icon","onClick"]),u(d,{type:"danger",size:"small",icon:i(U),onClick:s[0]||(s[0]=()=>{})},{default:t(()=>[c(" \u5220\u9664 ")]),_:1},8,["icon"])],64))]),_:1},8,["columns","tableData"])])}}});export{ue as default};
