import{d as C,r as a,$,C as I,o as m,c as N,f as U,g as o,z as l,B as s,cp as D,bL as q,aa as O,y as E,A as F}from"./index.01ea98cf.js";import{E as z,_ as A,a as L}from"./table-detail.vue_vue_type_script_setup_true_lang.a69b71f6.js";import{E as M}from"./el-radio.d9d8b92b.js";import"./el-input.354679cc.js";import"./el-checkbox.99cb207f.js";import{T as S}from"./table-custom.490dc207.js";import{E as W}from"./index.ff6b6e74.js";import"./index.a015fcd7.js";import"./scroll.07f4ce89.js";import"./el-form-item.28a26537.js";import"./_baseClone.0982b4aa.js";import"./_initCloneObject.20b4b283.js";import"./el-col.9b0fb9ee.js";import"./el-progress.6b4b2850.js";import"./cloneDeep.363bdcc1.js";import"./isEqual.1bd4333b.js";import"./el-date-picker.67f1e5f0.js";import"./localeData.d2da5e78.js";import"./_flatRest.facd7534.js";import"./el-input-number.9b78e3d4.js";import"./debounce.cb4df02e.js";import"./el-select.555d4ea7.js";import"./index.a8710ac8.js";import"./el-table-column.5f7a71c4.js";import"./isPlainObject.a804da68.js";import"./raf.84270819.js";import"./el-divider.8baa1cfb.js";const j={class:"container"},G=C({name:"system-menu"}),Ee=C({...G,setup(H){let B=a([{prop:"title",label:"\u83DC\u5355\u540D\u79F0",align:"left"},{prop:"icon",label:"\u56FE\u6807"},{prop:"index",label:"\u8DEF\u7531\u8DEF\u5F84"},{prop:"permiss",label:"\u6743\u9650\u6807\u8BC6"},{prop:"operator",label:"\u64CD\u4F5C",width:250}]);const _=u=>u.map(e=>{const r={label:e.title,value:e.id};return e.children&&(r.children=_(e.children)),r}),w=a(_(D));let y=a({labelWidth:"100px",span:12,list:[{type:"input",label:"\u83DC\u5355\u540D\u79F0",prop:"title",required:!0},{type:"input",label:"\u8DEF\u7531\u8DEF\u5F84",prop:"index",required:!0},{type:"input",label:"\u56FE\u6807",prop:"icon"},{type:"input",label:"\u6743\u9650\u6807\u8BC6",prop:"permiss"},{type:"parent",label:"\u7236\u83DC\u5355",prop:"parent"}]});const n=a(!1),i=a(!1),p=a({}),V=u=>{p.value={...u},i.value=!0,n.value=!0},x=()=>{f()},f=()=>{n.value=!1,i.value=!1},d=a(!1),c=a({row:{},list:[]}),g=u=>{c.value.row={...u},c.value.list=[{prop:"id",label:"\u83DC\u5355ID"},{prop:"pid",label:"\u7236\u83DC\u5355ID"},{prop:"title",label:"\u83DC\u5355\u540D\u79F0"},{prop:"index",label:"\u8DEF\u7531\u8DEF\u5F84"},{prop:"permiss",label:"\u6743\u9650\u6807\u8BC6"},{prop:"icon",label:"\u56FE\u6807"}],d.value=!0},h=u=>{W.success("\u5220\u9664\u6210\u529F")};return(u,e)=>{const r=$,v=I,k=M,T=L,b=z;return m(),N("div",null,[U("div",j,[o(S,{columns:s(B),tableData:s(D),"row-key":"index","has-pagination":!1,viewFunc:g,delFunc:h,editFunc:V},{toolbarBtn:l(()=>[o(r,{type:"warning",icon:s(q),onClick:e[0]||(e[0]=t=>n.value=!0)},{default:l(()=>[O("\u65B0\u589E")]),_:1},8,["icon"])]),icon:l(({rows:t})=>[o(v,null,{default:l(()=>[(m(),E(F(t.icon)))]),_:2},1024)]),_:1},8,["columns","tableData"])]),o(b,{title:i.value?"\u7F16\u8F91":"\u65B0\u589E",modelValue:n.value,"onUpdate:modelValue":e[2]||(e[2]=t=>n.value=t),width:"700px","destroy-on-close":"","close-on-click-modal":!1,onClose:f},{default:l(()=>[o(T,{"form-data":p.value,options:s(y),edit:i.value,update:x},{parent:l(()=>[o(k,{modelValue:p.value.pid,"onUpdate:modelValue":e[1]||(e[1]=t=>p.value.pid=t),options:w.value,props:{checkStrictly:!0},clearable:""},null,8,["modelValue","options"])]),_:1},8,["form-data","options","edit"])]),_:1},8,["title","modelValue"]),o(b,{title:"\u67E5\u770B\u8BE6\u60C5",modelValue:d.value,"onUpdate:modelValue":e[3]||(e[3]=t=>d.value=t),width:"700px","destroy-on-close":""},{default:l(()=>[o(A,{data:c.value},{icon:l(({rows:t})=>[o(v,null,{default:l(()=>[(m(),E(F(t.icon)))]),_:2},1024)]),_:1},8,["data"])]),_:1},8,["modelValue"])])}}});export{Ee as default};
