import{l as me,ax as He,ay as ue,ae as Je,T as Qe,aW as Fe,b6 as Ee,r as T,F as Ke,b as h,aY as ea,aD as da,aE as Wa,a_ as Za,d as j,u as ie,o as k,c as B,f as Z,a7 as fe,cq as ca,B as n,a$ as Oe,L as E,a9 as oe,q as Te,aa as qe,x as se,D as de,n as le,a8 as pa,a4 as fa,aB as va,aC as ja,e as Ge,X as ha,a as Re,a5 as Ya,I as ne,Y as ma,Z as Xa,b1 as ga,s as Ja,C as ye,c6 as ba,bt as ya,V as Qa,a6 as W,M as X,y as A,z as R,g as J,J as ve,bb as ka,v as Ca,K as ke,W as et,cl as xe,ak as aa,aj as at,cr as ta,m as Ce,N as tt,cs as lt,ct as st,ad as Na,E as K,cu as Se,cv as Ea,b7 as nt,ba as ot,az as it,b4 as rt,ci as ut,aI as dt,aL as ct,b8 as pt,am as la,S as ft,be as vt,bc as ht,ab as sa,cw as mt}from"./index.01ea98cf.js";import{E as gt}from"./el-checkbox.99cb207f.js";import{i as Ne}from"./isEqual.1bd4333b.js";import{u as na,c as oa}from"./el-date-picker.67f1e5f0.js";import{s as bt}from"./scroll.07f4ce89.js";import{b as yt}from"./_flatRest.facd7534.js";import{c as $a}from"./cloneDeep.363bdcc1.js";import{E as kt,i as Ct}from"./el-input.354679cc.js";import{t as Nt,b as ia}from"./el-select.555d4ea7.js";import{d as Et}from"./debounce.cb4df02e.js";var $t=1/0;function St(e){var t=e==null?0:e.length;return t?yt(e,$t):[]}const Sa=me({modelValue:{type:[String,Number,Boolean],default:void 0},size:He,disabled:Boolean,label:{type:[String,Number,Boolean],default:void 0},value:{type:[String,Number,Boolean],default:void 0},name:{type:String,default:void 0}}),wt=me({...Sa,border:Boolean}),wa={[ue]:e=>Je(e)||Qe(e)||Fe(e),[Ee]:e=>Je(e)||Qe(e)||Fe(e)},Va=Symbol("radioGroupKey"),Ta=(e,t)=>{const s=T(),a=Ke(Va,void 0),i=h(()=>!!a),p=h(()=>ea(e.value)?e.label:e.value),u=h({get(){return i.value?a.modelValue:e.modelValue},set(g){i.value?a.changeEvent(g):t&&t(ue,g),s.value.checked=e.modelValue===p.value}}),f=da(h(()=>a==null?void 0:a.size)),r=Wa(h(()=>a==null?void 0:a.disabled)),v=T(!1),y=h(()=>r.value||i.value&&u.value!==p.value?-1:0);return Za({from:"label act as value",replacement:"value",version:"3.0.0",scope:"el-radio",ref:"https://element-plus.org/en-US/component/radio.html"},h(()=>i.value&&ea(e.value))),{radioRef:s,isGroup:i,radioGroup:a,focus:v,size:f,disabled:r,tabIndex:y,modelValue:u,actualValue:p}},Vt=["value","name","disabled"],Tt=j({name:"ElRadio"}),It=j({...Tt,props:wt,emits:wa,setup(e,{emit:t}){const s=e,a=ie("radio"),{radioRef:i,radioGroup:p,focus:u,size:f,disabled:r,modelValue:v,actualValue:y}=Ta(s,t);function g(){le(()=>t("change",v.value))}return(m,N)=>{var _;return k(),B("label",{class:E([n(a).b(),n(a).is("disabled",n(r)),n(a).is("focus",n(u)),n(a).is("bordered",m.border),n(a).is("checked",n(v)===n(y)),n(a).m(n(f))])},[Z("span",{class:E([n(a).e("input"),n(a).is("disabled",n(r)),n(a).is("checked",n(v)===n(y))])},[fe(Z("input",{ref_key:"radioRef",ref:i,"onUpdate:modelValue":N[0]||(N[0]=z=>Oe(v)?v.value=z:null),class:E(n(a).e("original")),value:n(y),name:m.name||((_=n(p))==null?void 0:_.name),disabled:n(r),type:"radio",onFocus:N[1]||(N[1]=z=>u.value=!0),onBlur:N[2]||(N[2]=z=>u.value=!1),onChange:g,onClick:N[3]||(N[3]=oe(()=>{},["stop"]))},null,42,Vt),[[ca,n(v)]]),Z("span",{class:E(n(a).e("inner"))},null,2)],2),Z("span",{class:E(n(a).e("label")),onKeydown:N[4]||(N[4]=oe(()=>{},["stop"]))},[Te(m.$slots,"default",{},()=>[qe(se(m.label),1)])],34)],2)}}});var Pt=de(It,[["__file","radio.vue"]]);const _t=me({...Sa}),Lt=["value","name","disabled"],Bt=j({name:"ElRadioButton"}),Dt=j({...Bt,props:_t,setup(e){const t=e,s=ie("radio"),{radioRef:a,focus:i,size:p,disabled:u,modelValue:f,radioGroup:r,actualValue:v}=Ta(t),y=h(()=>({backgroundColor:(r==null?void 0:r.fill)||"",borderColor:(r==null?void 0:r.fill)||"",boxShadow:r!=null&&r.fill?`-1px 0 0 0 ${r.fill}`:"",color:(r==null?void 0:r.textColor)||""}));return(g,m)=>{var N;return k(),B("label",{class:E([n(s).b("button"),n(s).is("active",n(f)===n(v)),n(s).is("disabled",n(u)),n(s).is("focus",n(i)),n(s).bm("button",n(p))])},[fe(Z("input",{ref_key:"radioRef",ref:a,"onUpdate:modelValue":m[0]||(m[0]=_=>Oe(f)?f.value=_:null),class:E(n(s).be("button","original-radio")),value:n(v),type:"radio",name:g.name||((N=n(r))==null?void 0:N.name),disabled:n(u),onFocus:m[1]||(m[1]=_=>i.value=!0),onBlur:m[2]||(m[2]=_=>i.value=!1),onClick:m[3]||(m[3]=oe(()=>{},["stop"]))},null,42,Lt),[[ca,n(f)]]),Z("span",{class:E(n(s).be("button","inner")),style:pa(n(f)===n(v)?n(y):{}),onKeydown:m[4]||(m[4]=oe(()=>{},["stop"]))},[Te(g.$slots,"default",{},()=>[qe(se(g.label),1)])],38)],2)}}});var Ia=de(Dt,[["__file","radio-button.vue"]]);const Mt=me({id:{type:String,default:void 0},size:He,disabled:Boolean,modelValue:{type:[String,Number,Boolean],default:void 0},fill:{type:String,default:""},label:{type:String,default:void 0},textColor:{type:String,default:""},name:{type:String,default:void 0},validateEvent:{type:Boolean,default:!0}}),zt=wa,Ft=["id","aria-label","aria-labelledby"],Rt=j({name:"ElRadioGroup"}),xt=j({...Rt,props:Mt,emits:zt,setup(e,{emit:t}){const s=e,a=ie("radio"),i=fa(),p=T(),{formItem:u}=va(),{inputId:f,isLabeledByFormItem:r}=ja(s,{formItemContext:u}),v=g=>{t(ue,g),le(()=>t("change",g))};Ge(()=>{const g=p.value.querySelectorAll("[type=radio]"),m=g[0];!Array.from(g).some(N=>N.checked)&&m&&(m.tabIndex=0)});const y=h(()=>s.name||i.value);return ha(Va,Re({...Ya(s),changeEvent:v,name:y})),ne(()=>s.modelValue,()=>{s.validateEvent&&(u==null||u.validate("change").catch(g=>ma()))}),(g,m)=>(k(),B("div",{id:n(f),ref_key:"radioGroupRef",ref:p,class:E(n(a).b("group")),role:"radiogroup","aria-label":n(r)?void 0:g.label||"radio-group","aria-labelledby":n(r)?n(u).labelId:void 0},[Te(g.$slots,"default")],10,Ft))}});var Pa=de(xt,[["__file","radio-group.vue"]]);const At=Xa(Pt,{RadioButton:Ia,RadioGroup:Pa}),$l=ga(Pa),Sl=ga(Ia);var Ht=j({name:"NodeContent",setup(){return{ns:ie("cascader-node")}},render(){const{ns:e}=this,{node:t,panel:s}=this.$parent,{data:a,label:i}=t,{renderLabelFn:p}=s;return Ja("span",{class:e.e("label")},p?p({node:t,data:a}):i)}});const Ue=Symbol(),Kt=j({name:"ElCascaderNode",components:{ElCheckbox:gt,ElRadio:At,NodeContent:Ht,ElIcon:ye,Check:ba,Loading:ya,ArrowRight:Qa},props:{node:{type:Object,required:!0},menuId:String},emits:["expand"],setup(e,{emit:t}){const s=Ke(Ue),a=ie("cascader-node"),i=h(()=>s.isHoverMenu),p=h(()=>s.config.multiple),u=h(()=>s.config.checkStrictly),f=h(()=>{var $;return($=s.checkedNodes[0])==null?void 0:$.uid}),r=h(()=>e.node.isDisabled),v=h(()=>e.node.isLeaf),y=h(()=>u.value&&!v.value||!r.value),g=h(()=>N(s.expandingNode)),m=h(()=>u.value&&s.checkedNodes.some(N)),N=$=>{var F;const{level:x,uid:Y}=e.node;return((F=$==null?void 0:$.pathNodes[x-1])==null?void 0:F.uid)===Y},_=()=>{g.value||s.expandNode(e.node)},z=$=>{const{node:F}=e;$!==F.checked&&s.handleCheckChange(F,$)},H=()=>{s.lazyLoad(e.node,()=>{v.value||_()})},L=$=>{!i.value||(O(),!v.value&&t("expand",$))},O=()=>{const{node:$}=e;!y.value||$.loading||($.loaded?_():H())},D=()=>{i.value&&!v.value||(v.value&&!r.value&&!u.value&&!p.value?M(!0):O())},Q=$=>{u.value?(z($),e.node.loaded&&_()):M($)},M=$=>{e.node.loaded?(z($),!u.value&&_()):H()};return{panel:s,isHoverMenu:i,multiple:p,checkStrictly:u,checkedNodeId:f,isDisabled:r,isLeaf:v,expandable:y,inExpandingPath:g,inCheckedPath:m,ns:a,handleHoverExpand:L,handleExpand:O,handleClick:D,handleCheck:M,handleSelectCheck:Q}}}),Ot=["id","aria-haspopup","aria-owns","aria-expanded","tabindex"],qt=Z("span",null,null,-1);function Gt(e,t,s,a,i,p){const u=W("el-checkbox"),f=W("el-radio"),r=W("check"),v=W("el-icon"),y=W("node-content"),g=W("loading"),m=W("arrow-right");return k(),B("li",{id:`${e.menuId}-${e.node.uid}`,role:"menuitem","aria-haspopup":!e.isLeaf,"aria-owns":e.isLeaf?null:e.menuId,"aria-expanded":e.inExpandingPath,tabindex:e.expandable?-1:void 0,class:E([e.ns.b(),e.ns.is("selectable",e.checkStrictly),e.ns.is("active",e.node.checked),e.ns.is("disabled",!e.expandable),e.inExpandingPath&&"in-active-path",e.inCheckedPath&&"in-checked-path"]),onMouseenter:t[2]||(t[2]=(...N)=>e.handleHoverExpand&&e.handleHoverExpand(...N)),onFocus:t[3]||(t[3]=(...N)=>e.handleHoverExpand&&e.handleHoverExpand(...N)),onClick:t[4]||(t[4]=(...N)=>e.handleClick&&e.handleClick(...N))},[X(" prefix "),e.multiple?(k(),A(u,{key:0,"model-value":e.node.checked,indeterminate:e.node.indeterminate,disabled:e.isDisabled,onClick:t[0]||(t[0]=oe(()=>{},["stop"])),"onUpdate:modelValue":e.handleSelectCheck},null,8,["model-value","indeterminate","disabled","onUpdate:modelValue"])):e.checkStrictly?(k(),A(f,{key:1,"model-value":e.checkedNodeId,label:e.node.uid,disabled:e.isDisabled,"onUpdate:modelValue":e.handleSelectCheck,onClick:t[1]||(t[1]=oe(()=>{},["stop"]))},{default:R(()=>[X(`
        Add an empty element to avoid render label,
        do not use empty fragment here for https://github.com/vuejs/vue-next/pull/2485
      `),qt]),_:1},8,["model-value","label","disabled","onUpdate:modelValue"])):e.isLeaf&&e.node.checked?(k(),A(v,{key:2,class:E(e.ns.e("prefix"))},{default:R(()=>[J(r)]),_:1},8,["class"])):X("v-if",!0),X(" content "),J(y),X(" postfix "),e.isLeaf?X("v-if",!0):(k(),B(ve,{key:3},[e.node.loading?(k(),A(v,{key:0,class:E([e.ns.is("loading"),e.ns.e("postfix")])},{default:R(()=>[J(g)]),_:1},8,["class"])):(k(),A(v,{key:1,class:E(["arrow-right",e.ns.e("postfix")])},{default:R(()=>[J(m)]),_:1},8,["class"]))],64))],42,Ot)}var Ut=de(Kt,[["render",Gt],["__file","node.vue"]]);const Wt=j({name:"ElCascaderMenu",components:{Loading:ya,ElIcon:ye,ElScrollbar:ka,ElCascaderNode:Ut},props:{nodes:{type:Array,required:!0},index:{type:Number,required:!0}},setup(e){const t=et(),s=ie("cascader-menu"),{t:a}=Ca(),i=fa();let p=null,u=null;const f=Ke(Ue),r=T(null),v=h(()=>!e.nodes.length),y=h(()=>!f.initialLoaded),g=h(()=>`${i.value}-${e.index}`),m=H=>{p=H.target},N=H=>{if(!(!f.isHoverMenu||!p||!r.value))if(p.contains(H.target)){_();const L=t.vnode.el,{left:O}=L.getBoundingClientRect(),{offsetWidth:D,offsetHeight:Q}=L,M=H.clientX-O,$=p.offsetTop,F=$+p.offsetHeight;r.value.innerHTML=`
          <path style="pointer-events: auto;" fill="transparent" d="M${M} ${$} L${D} 0 V${$} Z" />
          <path style="pointer-events: auto;" fill="transparent" d="M${M} ${F} L${D} ${Q} V${F} Z" />
        `}else u||(u=window.setTimeout(z,f.config.hoverThreshold))},_=()=>{!u||(clearTimeout(u),u=null)},z=()=>{!r.value||(r.value.innerHTML="",_())};return{ns:s,panel:f,hoverZone:r,isEmpty:v,isLoading:y,menuId:g,t:a,handleExpand:m,handleMouseMove:N,clearHoverZone:z}}});function Zt(e,t,s,a,i,p){const u=W("el-cascader-node"),f=W("loading"),r=W("el-icon"),v=W("el-scrollbar");return k(),A(v,{key:e.menuId,tag:"ul",role:"menu",class:E(e.ns.b()),"wrap-class":e.ns.e("wrap"),"view-class":[e.ns.e("list"),e.ns.is("empty",e.isEmpty)],onMousemove:e.handleMouseMove,onMouseleave:e.clearHoverZone},{default:R(()=>{var y;return[(k(!0),B(ve,null,ke(e.nodes,g=>(k(),A(u,{key:g.uid,node:g,"menu-id":e.menuId,onExpand:e.handleExpand},null,8,["node","menu-id","onExpand"]))),128)),e.isLoading?(k(),B("div",{key:0,class:E(e.ns.e("empty-text"))},[J(r,{size:"14",class:E(e.ns.is("loading"))},{default:R(()=>[J(f)]),_:1},8,["class"]),qe(" "+se(e.t("el.cascader.loading")),1)],2)):e.isEmpty?(k(),B("div",{key:1,class:E(e.ns.e("empty-text"))},se(e.t("el.cascader.noData")),3)):(y=e.panel)!=null&&y.isHoverMenu?(k(),B("svg",{key:2,ref:"hoverZone",class:E(e.ns.e("hover-zone"))},null,2)):X("v-if",!0)]}),_:1},8,["class","wrap-class","view-class","onMousemove","onMouseleave"])}var jt=de(Wt,[["render",Zt],["__file","menu.vue"]]);let Yt=0;const Xt=e=>{const t=[e];let{parent:s}=e;for(;s;)t.unshift(s),s=s.parent;return t};class he{constructor(t,s,a,i=!1){this.data=t,this.config=s,this.parent=a,this.root=i,this.uid=Yt++,this.checked=!1,this.indeterminate=!1,this.loading=!1;const{value:p,label:u,children:f}=s,r=t[f],v=Xt(this);this.level=i?0:a?a.level+1:1,this.value=t[p],this.label=t[u],this.pathNodes=v,this.pathValues=v.map(y=>y.value),this.pathLabels=v.map(y=>y.label),this.childrenData=r,this.children=(r||[]).map(y=>new he(y,s,this)),this.loaded=!s.lazy||this.isLeaf||!xe(r)}get isDisabled(){const{data:t,parent:s,config:a}=this,{disabled:i,checkStrictly:p}=a;return(aa(i)?i(t,this):!!t[i])||!p&&(s==null?void 0:s.isDisabled)}get isLeaf(){const{data:t,config:s,childrenData:a,loaded:i}=this,{lazy:p,leaf:u}=s,f=aa(u)?u(t,this):t[u];return at(f)?p&&!i?!1:!(Array.isArray(a)&&a.length):!!f}get valueByOption(){return this.config.emitPath?this.pathValues:this.value}appendChild(t){const{childrenData:s,children:a}=this,i=new he(t,this.config,this);return Array.isArray(s)?s.push(t):this.childrenData=[t],a.push(i),i}calcText(t,s){const a=t?this.pathLabels.join(s):this.label;return this.text=a,a}broadcast(t,...s){const a=`onParent${ta(t)}`;this.children.forEach(i=>{i&&(i.broadcast(t,...s),i[a]&&i[a](...s))})}emit(t,...s){const{parent:a}=this,i=`onChild${ta(t)}`;a&&(a[i]&&a[i](...s),a.emit(t,...s))}onParentCheck(t){this.isDisabled||this.setCheckState(t)}onChildCheck(){const{children:t}=this,s=t.filter(i=>!i.isDisabled),a=s.length?s.every(i=>i.checked):!1;this.setCheckState(a)}setCheckState(t){const s=this.children.length,a=this.children.reduce((i,p)=>{const u=p.checked?1:p.indeterminate?.5:0;return i+u},0);this.checked=this.loaded&&this.children.filter(i=>!i.isDisabled).every(i=>i.loaded&&i.checked)&&t,this.indeterminate=this.loaded&&a!==s&&a>0}doCheck(t){if(this.checked===t)return;const{checkStrictly:s,multiple:a}=this.config;s||!a?this.checked=t:(this.broadcast("check",t),this.setCheckState(t),this.emit("check"))}}const Ae=(e,t)=>e.reduce((s,a)=>(a.isLeaf?s.push(a):(!t&&s.push(a),s=s.concat(Ae(a.children,t))),s),[]);class ra{constructor(t,s){this.config=s;const a=(t||[]).map(i=>new he(i,this.config));this.nodes=a,this.allNodes=Ae(a,!1),this.leafNodes=Ae(a,!0)}getNodes(){return this.nodes}getFlattedNodes(t){return t?this.leafNodes:this.allNodes}appendNode(t,s){const a=s?s.appendChild(t):new he(t,this.config);s||this.nodes.push(a),this.allNodes.push(a),a.isLeaf&&this.leafNodes.push(a)}appendNodes(t,s){t.forEach(a=>this.appendNode(a,s))}getNodeByValue(t,s=!1){return!t&&t!==0?null:this.getFlattedNodes(s).find(i=>Ne(i.value,t)||Ne(i.pathValues,t))||null}getSameNode(t){return t&&this.getFlattedNodes(!1).find(({value:a,level:i})=>Ne(t.value,a)&&t.level===i)||null}}const _a=me({modelValue:{type:Ce([Number,String,Array])},options:{type:Ce(Array),default:()=>[]},props:{type:Ce(Object),default:()=>({})}}),Jt={expandTrigger:"click",multiple:!1,checkStrictly:!1,emitPath:!0,lazy:!1,lazyLoad:tt,value:"value",label:"label",children:"children",leaf:"leaf",disabled:"disabled",hoverThreshold:500},Qt=e=>h(()=>({...Jt,...e.props})),ua=e=>{if(!e)return 0;const t=e.id.split("-");return Number(t[t.length-2])},el=e=>{if(!e)return;const t=e.querySelector("input");t?t.click():lt(e)&&e.click()},al=(e,t)=>{const s=t.slice(0),a=s.map(p=>p.uid),i=e.reduce((p,u)=>{const f=a.indexOf(u.uid);return f>-1&&(p.push(u),s.splice(f,1),a.splice(f,1)),p},[]);return i.push(...s),i},tl=j({name:"ElCascaderPanel",components:{ElCascaderMenu:jt},props:{..._a,border:{type:Boolean,default:!0},renderLabel:Function},emits:[ue,Ee,"close","expand-change"],setup(e,{emit:t,slots:s}){let a=!1;const i=ie("cascader"),p=Qt(e);let u=null;const f=T(!0),r=T([]),v=T(null),y=T([]),g=T(null),m=T([]),N=h(()=>p.value.expandTrigger==="hover"),_=h(()=>e.renderLabel||s.default),z=()=>{const{options:c}=e,C=p.value;a=!1,u=new ra(c,C),y.value=[u.getNodes()],C.lazy&&xe(e.options)?(f.value=!1,H(void 0,b=>{b&&(u=new ra(b,C),y.value=[u.getNodes()]),f.value=!0,x(!1,!0)})):x(!1,!0)},H=(c,C)=>{const b=p.value;c=c||new he({},b,void 0,!0),c.loading=!0;const w=I=>{const V=c,G=V.root?null:V;I&&(u==null||u.appendNodes(I,G)),V.loading=!1,V.loaded=!0,V.childrenData=V.childrenData||[],C&&C(I)};b.lazyLoad(c,w)},L=(c,C)=>{var b;const{level:w}=c,I=y.value.slice(0,w);let V;c.isLeaf?V=c.pathNodes[w-2]:(V=c,I.push(c.children)),((b=g.value)==null?void 0:b.uid)!==(V==null?void 0:V.uid)&&(g.value=c,y.value=I,!C&&t("expand-change",(c==null?void 0:c.pathValues)||[]))},O=(c,C,b=!0)=>{const{checkStrictly:w,multiple:I}=p.value,V=m.value[0];a=!0,!I&&(V==null||V.doCheck(!1)),c.doCheck(C),F(),b&&!I&&!w&&t("close"),!b&&!I&&!w&&D(c)},D=c=>{!c||(c=c.parent,D(c),c&&L(c))},Q=c=>u==null?void 0:u.getFlattedNodes(c),M=c=>{var C;return(C=Q(c))==null?void 0:C.filter(b=>b.checked!==!1)},$=()=>{m.value.forEach(c=>c.doCheck(!1)),F(),y.value=y.value.slice(0,1),g.value=null,t("expand-change",[])},F=()=>{var c;const{checkStrictly:C,multiple:b}=p.value,w=m.value,I=M(!C),V=al(w,I),G=V.map(P=>P.valueByOption);m.value=V,v.value=b?G:(c=G[0])!=null?c:null},x=(c=!1,C=!1)=>{const{modelValue:b}=e,{lazy:w,multiple:I,checkStrictly:V}=p.value,G=!V;if(!(!f.value||a||!C&&Ne(b,v.value)))if(w&&!c){const re=na(St(oa(b))).map(U=>u==null?void 0:u.getNodeByValue(U)).filter(U=>!!U&&!U.loaded&&!U.loading);re.length?re.forEach(U=>{H(U,()=>x(!1,C))}):x(!0,C)}else{const P=I?oa(b):[b],re=na(P.map(U=>u==null?void 0:u.getNodeByValue(U,G)));Y(re,C),v.value=$a(b)}},Y=(c,C=!0)=>{const{checkStrictly:b}=p.value,w=m.value,I=c.filter(P=>!!P&&(b||P.isLeaf)),V=u==null?void 0:u.getSameNode(g.value),G=C&&V||I[0];G?G.pathNodes.forEach(P=>L(P,!0)):g.value=null,w.forEach(P=>P.doCheck(!1)),Re(I).forEach(P=>P.doCheck(!0)),m.value=I,le(ce)},ce=()=>{!Na||r.value.forEach(c=>{const C=c==null?void 0:c.$el;if(C){const b=C.querySelector(`.${i.namespace.value}-scrollbar__wrap`),w=C.querySelector(`.${i.b("node")}.${i.is("active")}`)||C.querySelector(`.${i.b("node")}.in-active-path`);bt(b,w)}})},ge=c=>{const C=c.target,{code:b}=c;switch(b){case K.up:case K.down:{c.preventDefault();const w=b===K.up?-1:1;Se(Ea(C,w,`.${i.b("node")}[tabindex="-1"]`));break}case K.left:{c.preventDefault();const w=r.value[ua(C)-1],I=w==null?void 0:w.$el.querySelector(`.${i.b("node")}[aria-expanded="true"]`);Se(I);break}case K.right:{c.preventDefault();const w=r.value[ua(C)+1],I=w==null?void 0:w.$el.querySelector(`.${i.b("node")}[tabindex="-1"]`);Se(I);break}case K.enter:el(C);break}};return ha(Ue,Re({config:p,expandingNode:g,checkedNodes:m,isHoverMenu:N,initialLoaded:f,renderLabelFn:_,lazyLoad:H,expandNode:L,handleCheckChange:O})),ne([p,()=>e.options],z,{deep:!0,immediate:!0}),ne(()=>e.modelValue,()=>{a=!1,x()},{deep:!0}),ne(()=>v.value,c=>{Ne(c,e.modelValue)||(t(ue,c),t(Ee,c))}),st(()=>r.value=[]),Ge(()=>!xe(e.modelValue)&&x()),{ns:i,menuList:r,menus:y,checkedNodes:m,handleKeyDown:ge,handleCheckChange:O,getFlattedNodes:Q,getCheckedNodes:M,clearCheckedNodes:$,calculateCheckedValue:F,scrollToExpandingNode:ce}}});function ll(e,t,s,a,i,p){const u=W("el-cascader-menu");return k(),B("div",{class:E([e.ns.b("panel"),e.ns.is("bordered",e.border)]),onKeydown:t[0]||(t[0]=(...f)=>e.handleKeyDown&&e.handleKeyDown(...f))},[(k(!0),B(ve,null,ke(e.menus,(f,r)=>(k(),A(u,{key:r,ref_for:!0,ref:v=>e.menuList[r]=v,index:r,nodes:[...f]},null,8,["index","nodes"]))),128))],34)}var we=de(tl,[["render",ll],["__file","index.vue"]]);we.install=e=>{e.component(we.name,we)};const sl=we,nl=me({..._a,size:He,placeholder:String,disabled:Boolean,clearable:Boolean,filterable:Boolean,filterMethod:{type:Ce(Function),default:(e,t)=>e.text.includes(t)},separator:{type:String,default:" / "},showAllLevels:{type:Boolean,default:!0},collapseTags:Boolean,maxCollapseTags:{type:Number,default:1},collapseTagsTooltip:{type:Boolean,default:!1},debounce:{type:Number,default:300},beforeFilter:{type:Ce(Function),default:()=>!0},popperClass:{type:String,default:""},teleported:nt.teleported,tagType:{...Nt.type,default:"info"},validateEvent:{type:Boolean,default:!0},...ot}),ol={[ue]:e=>!0,[Ee]:e=>!0,focus:e=>e instanceof FocusEvent,blur:e=>e instanceof FocusEvent,visibleChange:e=>Fe(e),expandChange:e=>!!e,removeTag:e=>!!e},il={key:0},rl=["placeholder","onKeydown"],ul=["onClick"],dl="ElCascader",cl=j({name:dl}),pl=j({...cl,props:nl,emits:ol,setup(e,{expose:t,emit:s}){const a=e,i={modifiers:[{name:"arrowPosition",enabled:!0,phase:"main",fn:({state:l})=>{const{modifiersData:o,placement:d}=l;["right","left","bottom","top"].includes(d)||(o.arrow.x=35)},requires:["arrow"]}]},p=it();let u=0,f=0;const r=ie("cascader"),v=ie("input"),{t:y}=Ca(),{form:g,formItem:m}=va(),{valueOnClear:N}=rt(a),_=T(null),z=T(null),H=T(null),L=T(null),O=T(null),D=T(!1),Q=T(!1),M=T(!1),$=T(!1),F=T(""),x=T(""),Y=T([]),ce=T([]),ge=T([]),c=T(!1),C=h(()=>p.style),b=h(()=>a.disabled||(g==null?void 0:g.disabled)),w=h(()=>a.placeholder||y("el.cascader.placeholder")),I=h(()=>x.value||Y.value.length>0||c.value?"":w.value),V=da(),G=h(()=>["small"].includes(V.value)?"small":"default"),P=h(()=>!!a.props.multiple),re=h(()=>!a.filterable||P.value),U=h(()=>P.value?x.value:F.value),$e=h(()=>{var l;return((l=L.value)==null?void 0:l.checkedNodes)||[]}),La=h(()=>!a.clearable||b.value||M.value||!Q.value?!1:!!$e.value.length),Ie=h(()=>{const{showAllLevels:l,separator:o}=a,d=$e.value;return d.length?P.value?"":d[0].calcText(l,o):""}),Ba=h(()=>(m==null?void 0:m.validateState)||""),Pe=h({get(){return $a(a.modelValue)},set(l){const o=l||N.value;s(ue,o),s(Ee,o),a.validateEvent&&(m==null||m.validate("change").catch(d=>ma()))}}),Da=h(()=>[r.b(),r.m(V.value),r.is("disabled",b.value),p.class]),Ma=h(()=>[v.e("icon"),"icon-arrow-down",r.is("reverse",D.value)]),za=h(()=>r.is("focus",D.value||$.value)),We=h(()=>{var l,o;return(o=(l=_.value)==null?void 0:l.popperRef)==null?void 0:o.contentRef}),q=l=>{var o,d,S;b.value||(l=l!=null?l:!D.value,l!==D.value&&(D.value=l,(d=(o=z.value)==null?void 0:o.input)==null||d.setAttribute("aria-expanded",`${l}`),l?(be(),le((S=L.value)==null?void 0:S.scrollToExpandingNode)):a.filterable&&Me(),s("visibleChange",l)))},be=()=>{le(()=>{var l;(l=_.value)==null||l.updatePopper()})},_e=()=>{M.value=!1},Le=l=>{const{showAllLevels:o,separator:d}=a;return{node:l,key:l.uid,text:l.calcText(o,d),hitState:!1,closable:!b.value&&!l.isDisabled,isCollapseTag:!1}},Be=l=>{var o;const d=l.node;d.doCheck(!1),(o=L.value)==null||o.calculateCheckedValue(),s("removeTag",d.valueByOption)},Fa=()=>{if(!P.value)return;const l=$e.value,o=[],d=[];if(l.forEach(S=>d.push(Le(S))),ce.value=d,l.length){l.slice(0,a.maxCollapseTags).forEach(ee=>o.push(Le(ee)));const S=l.slice(a.maxCollapseTags),ae=S.length;ae&&(a.collapseTags?o.push({key:-1,text:`+ ${ae}`,closable:!1,isCollapseTag:!0}):S.forEach(ee=>o.push(Le(ee))))}Y.value=o},Ze=()=>{var l,o;const{filterMethod:d,showAllLevels:S,separator:ae}=a,ee=(o=(l=L.value)==null?void 0:l.getFlattedNodes(!a.props.checkStrictly))==null?void 0:o.filter(te=>te.isDisabled?!1:(te.calcText(S,ae),d(te,U.value)));P.value&&(Y.value.forEach(te=>{te.hitState=!1}),ce.value.forEach(te=>{te.hitState=!1})),M.value=!0,ge.value=ee,be()},Ra=()=>{var l;let o;M.value&&O.value?o=O.value.$el.querySelector(`.${r.e("suggestion-item")}`):o=(l=L.value)==null?void 0:l.$el.querySelector(`.${r.b("node")}[tabindex="-1"]`),o&&(o.focus(),!M.value&&o.click())},De=()=>{var l,o;const d=(l=z.value)==null?void 0:l.input,S=H.value,ae=(o=O.value)==null?void 0:o.$el;if(!(!Na||!d)){if(ae){const ee=ae.querySelector(`.${r.e("suggestion-list")}`);ee.style.minWidth=`${d.offsetWidth}px`}if(S){const{offsetHeight:ee}=S,te=Y.value.length>0?`${Math.max(ee+6,u)}px`:`${u}px`;d.style.height=te,be()}}},xa=l=>{var o;return(o=L.value)==null?void 0:o.getCheckedNodes(l)},Aa=l=>{be(),s("expandChange",l)},pe=l=>{var o;const d=(o=l.target)==null?void 0:o.value;if(l.type==="compositionend")c.value=!1,le(()=>ze(d));else{const S=d[d.length-1]||"";c.value=!Ct(S)}},Ha=l=>{if(!c.value)switch(l.code){case K.enter:q();break;case K.down:q(!0),le(Ra),l.preventDefault();break;case K.esc:D.value===!0&&(l.preventDefault(),l.stopPropagation(),q(!1));break;case K.tab:q(!1);break}},Ka=()=>{var l;(l=L.value)==null||l.clearCheckedNodes(),!D.value&&a.filterable&&Me(),q(!1)},Me=()=>{const{value:l}=Ie;F.value=l,x.value=l},Oa=l=>{var o,d;const{checked:S}=l;P.value?(o=L.value)==null||o.handleCheckChange(l,!S,!1):(!S&&((d=L.value)==null||d.handleCheckChange(l,!0,!1)),q(!1))},qa=l=>{const o=l.target,{code:d}=l;switch(d){case K.up:case K.down:{const S=d===K.up?-1:1;Se(Ea(o,S,`.${r.e("suggestion-item")}[tabindex="-1"]`));break}case K.enter:o.click();break}},Ga=()=>{const l=Y.value,o=l[l.length-1];f=x.value?0:f+1,!(!o||!f||a.collapseTags&&l.length>1)&&(o.hitState?Be(o):o.hitState=!0)},je=l=>{const o=l.target,d=r.e("search-input");o.className===d&&($.value=!0),s("focus",l)},Ye=l=>{$.value=!1,s("blur",l)},Ua=Et(()=>{const{value:l}=U;if(!l)return;const o=a.beforeFilter(l);ut(o)?o.then(Ze).catch(()=>{}):o!==!1?Ze():_e()},a.debounce),ze=(l,o)=>{!D.value&&q(!0),!(o!=null&&o.isComposing)&&(l?Ua():_e())},Xe=l=>Number.parseFloat(mt(v.cssVarName("input-height"),l).value)-2;return ne(M,be),ne([$e,b],Fa),ne(Y,()=>{le(()=>De())}),ne(V,async()=>{await le();const l=z.value.input;u=Xe(l)||u,De()}),ne(Ie,Me,{immediate:!0}),Ge(()=>{const l=z.value.input,o=Xe(l);u=l.offsetHeight||o,dt(l,De)}),t({getCheckedNodes:xa,cascaderPanelRef:L,togglePopperVisible:q,contentRef:We}),(l,o)=>(k(),A(n(la),{ref_key:"tooltipRef",ref:_,visible:D.value,teleported:l.teleported,"popper-class":[n(r).e("dropdown"),l.popperClass],"popper-options":i,"fallback-placements":["bottom-start","bottom","top-start","top","right","left"],"stop-popper-mouse-event":!1,"gpu-acceleration":!1,placement:"bottom-start",transition:`${n(r).namespace.value}-zoom-in-top`,effect:"light",pure:"",persistent:"",onHide:_e},{default:R(()=>[fe((k(),B("div",{class:E(n(Da)),style:pa(n(C)),onClick:o[5]||(o[5]=()=>q(n(re)?void 0:!0)),onKeydown:Ha,onMouseenter:o[6]||(o[6]=d=>Q.value=!0),onMouseleave:o[7]||(o[7]=d=>Q.value=!1)},[J(n(kt),{ref_key:"input",ref:z,modelValue:F.value,"onUpdate:modelValue":o[1]||(o[1]=d=>F.value=d),placeholder:n(I),readonly:n(re),disabled:n(b),"validate-event":!1,size:n(V),class:E(n(za)),tabindex:n(P)&&l.filterable&&!n(b)?-1:void 0,onCompositionstart:pe,onCompositionupdate:pe,onCompositionend:pe,onFocus:je,onBlur:Ye,onInput:ze},{suffix:R(()=>[n(La)?(k(),A(n(ye),{key:"clear",class:E([n(v).e("icon"),"icon-circle-close"]),onClick:oe(Ka,["stop"])},{default:R(()=>[J(n(ct))]),_:1},8,["class","onClick"])):(k(),A(n(ye),{key:"arrow-down",class:E(n(Ma)),onClick:o[0]||(o[0]=oe(d=>q(),["stop"]))},{default:R(()=>[J(n(pt))]),_:1},8,["class"]))]),_:1},8,["modelValue","placeholder","readonly","disabled","size","class","tabindex"]),n(P)?(k(),B("div",{key:0,ref_key:"tagWrapper",ref:H,class:E([n(r).e("tags"),n(r).is("validate",Boolean(n(Ba)))])},[(k(!0),B(ve,null,ke(Y.value,d=>(k(),A(n(ia),{key:d.key,type:l.tagType,size:n(G),hit:d.hitState,closable:d.closable,"disable-transitions":"",onClose:S=>Be(d)},{default:R(()=>[d.isCollapseTag===!1?(k(),B("span",il,se(d.text),1)):(k(),A(n(la),{key:1,disabled:D.value||!l.collapseTagsTooltip,"fallback-placements":["bottom","top","right","left"],placement:"bottom",effect:"light"},{default:R(()=>[Z("span",null,se(d.text),1)]),content:R(()=>[Z("div",{class:E(n(r).e("collapse-tags"))},[(k(!0),B(ve,null,ke(ce.value.slice(l.maxCollapseTags),(S,ae)=>(k(),B("div",{key:ae,class:E(n(r).e("collapse-tag"))},[(k(),A(n(ia),{key:S.key,class:"in-tooltip",type:l.tagType,size:n(G),hit:S.hitState,closable:S.closable,"disable-transitions":"",onClose:ee=>Be(S)},{default:R(()=>[Z("span",null,se(S.text),1)]),_:2},1032,["type","size","hit","closable","onClose"]))],2))),128))],2)]),_:2},1032,["disabled"]))]),_:2},1032,["type","size","hit","closable","onClose"]))),128)),l.filterable&&!n(b)?fe((k(),B("input",{key:0,"onUpdate:modelValue":o[2]||(o[2]=d=>x.value=d),type:"text",class:E(n(r).e("search-input")),placeholder:n(Ie)?"":n(w),onInput:o[3]||(o[3]=d=>ze(x.value,d)),onClick:o[4]||(o[4]=oe(d=>q(!0),["stop"])),onKeydown:ft(Ga,["delete"]),onCompositionstart:pe,onCompositionupdate:pe,onCompositionend:pe,onFocus:je,onBlur:Ye},null,42,rl)),[[vt,x.value]]):X("v-if",!0)],2)):X("v-if",!0)],38)),[[n(ht),()=>q(!1),n(We)]])]),content:R(()=>[fe(J(n(sl),{ref_key:"cascaderPanelRef",ref:L,modelValue:n(Pe),"onUpdate:modelValue":o[8]||(o[8]=d=>Oe(Pe)?Pe.value=d:null),options:l.options,props:a.props,border:!1,"render-label":l.$slots.default,onExpandChange:Aa,onClose:o[9]||(o[9]=d=>l.$nextTick(()=>q(!1)))},null,8,["modelValue","options","props","render-label"]),[[sa,!M.value]]),l.filterable?fe((k(),A(n(ka),{key:0,ref_key:"suggestionPanel",ref:O,tag:"ul",class:E(n(r).e("suggestion-panel")),"view-class":n(r).e("suggestion-list"),onKeydown:qa},{default:R(()=>[ge.value.length?(k(!0),B(ve,{key:0},ke(ge.value,d=>(k(),B("li",{key:d.uid,class:E([n(r).e("suggestion-item"),n(r).is("checked",d.checked)]),tabindex:-1,onClick:S=>Oa(d)},[Z("span",null,se(d.text),1),d.checked?(k(),A(n(ye),{key:0},{default:R(()=>[J(n(ba))]),_:1})):X("v-if",!0)],10,ul))),128)):Te(l.$slots,"empty",{key:1},()=>[Z("li",{class:E(n(r).e("empty-text"))},se(n(y)("el.cascader.noMatch")),3)])]),_:3},8,["class","view-class"])),[[sa,M.value]]):X("v-if",!0)]),_:3},8,["visible","teleported","popper-class","transition"]))}});var Ve=de(pl,[["__file","cascader.vue"]]);Ve.install=e=>{e.component(Ve.name,Ve)};const fl=Ve,wl=fl;export{wl as E,Sl as a,$l as b,At as c};
