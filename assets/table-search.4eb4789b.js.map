{"version":3,"file":"table-search.4eb4789b.js","sources":["../../src/components/table-search.vue"],"sourcesContent":["<template>\r\n\t<div class=\"search-container\">\r\n\t\t<el-form ref=\"searchRef\" :model=\"query\" :inline=\"true\">\r\n\t\t\t<el-form-item :label=\"item.label\" :prop=\"item.prop\" v-for=\"item in options\">\r\n\t\t\t\t<!-- 文本框、下拉框、日期框 -->\r\n\t\t\t\t<el-input v-if=\"item.type === 'input'\" v-model=\"query[item.prop]\" :disabled=\"item.disabled\"\r\n\t\t\t\t\t:placeholder=\"item.placeholder\" clearable></el-input>\r\n\t\t\t\t<el-select v-else-if=\"item.type === 'select'\" v-model=\"query[item.prop]\" :disabled=\"item.disabled\"\r\n\t\t\t\t\t:placeholder=\"item.placeholder\" clearable>\r\n\t\t\t\t\t<el-option v-for=\"opt in item.opts\" :label=\"opt.label\" :value=\"opt.value\"></el-option>\r\n\t\t\t\t</el-select>\r\n\t\t\t\t<el-date-picker v-else-if=\"item.type === 'date'\" type=\"date\" v-model=\"query[item.prop]\"\r\n\t\t\t\t\t:value-format=\"item.format\"></el-date-picker>\r\n\t\t\t</el-form-item>\r\n\t\t\t<el-form-item>\r\n\t\t\t\t<el-button type=\"primary\" :icon=\"Search\" @click=\"search\">搜索</el-button>\r\n\t\t\t\t<el-button :icon=\"Refresh\" @click=\"resetForm(searchRef)\">重置</el-button>\r\n\t\t\t</el-form-item>\r\n\t\t</el-form>\r\n\t</div>\r\n</template>\r\n\r\n<script lang=\"ts\" setup>\r\nimport { FormInstance } from 'element-plus';\r\nimport { Search, Refresh } from '@element-plus/icons-vue';\r\nimport { PropType, ref } from 'vue';\r\nimport { FormOptionList } from '@/types/form-option';\r\n\r\nconst props = defineProps({\r\n\tquery: {\r\n\t\ttype: Object,\r\n\t\trequired: true\r\n\t},\r\n\toptions: {\r\n\t\ttype: Array as PropType<Array<FormOptionList>>,\r\n\t\trequired: true\r\n\t},\r\n\tsearch: {\r\n\t\ttype: Function,\r\n\t\tdefault: () => { }\r\n\t}\r\n});\r\n\r\nconst searchRef = ref<FormInstance>();\r\nconst resetForm = (formEl: FormInstance | undefined) => {\r\n\tif (!formEl) return\r\n\tformEl.resetFields()\r\n\tprops.search();\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.search-container {\r\n\tpadding: 20px 30px 0;\r\n\tbackground-color: #fff;\r\n\tmargin-bottom: 10px;\r\n\tborder: 1px solid #ddd;\r\n\tborder-radius: 5px\r\n}\r\n</style>\r\n"],"names":["props","__props","searchRef","ref","resetForm","formEl"],"mappings":"2lBA4BA,MAAAA,EAAAC,EAeAC,EAAAC,IACAC,EAAAC,GAAA,CACC,CAAAA,IACAA,EAAA,YAAA,EACAL,EAAA,OAAA,EAAa"}